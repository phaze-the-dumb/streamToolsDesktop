<html lang="en">
  <head>
    <title>Streamer Tools</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body>
    <div class="sidebar">
      <a href="#" onclick="fetch('http://localhost:2078/api/tab.home')">Home</a>
      <a href="#" onclick="fetch('http://localhost:2078/api/tab.widgets')">Widgets</a>
      <a href="#" onclick="fetch('http://localhost:2078/api/tab.srm')" class="active">SRM</a>
    </div>

    <div class="content">
      <h1 style="text-align: center;" id="welcomeText"></h1>
      <center>
        <button onclick="fetch('http://localhost:2078/srm.clear')">Clear</button><br><br><br>
        <div id="srm"></div><br><br><br><br><br>
      </center>
    </div>
    <script>
      fetch('http://localhost:2078/user').then(res => res.json()).then(res => {
        document.getElementById('welcomeText').innerHTML = 'Welcome '+res.uname

        fetch('http://localhost:2078/api/srm').then(res => res.json()).then(res => {
          text = ''

          console.log(res)

          res.forEach(song => {
            text = text + '<img class="img" id="img" src="'+song.img+'" width="50px"><h4 class="txt1" id="sname">'+song.name+'</h4><h5 class="txt2" id="sauthor">'+song.songAuthor+' ['+song.mapAuthor+']</h5>'
          })

          document.getElementById('srm').innerHTML = text
        })
      })
    </script>
    <style>
      a{
        color: #00ccff;
      }

      body{
        border: 0px;
        margin: 0px;
        font-family: sans-serif;
        background-color: #161616;
        color: white;
      }

      .sidebar {
        margin: 0;
        padding: 0;
        width: 200px;
        background-color: #363636;
        position: fixed;
        height: 100%;
        overflow: auto;
        border-right: rgb(173, 0, 43) 1px solid;
        padding: 10px;
      }

      .sidebar a {
        display: block;
        color: white;
        padding: 16px;
        text-decoration: none;
      }
      
      .sidebar a.active {
        border: 1px solid rgb(173, 0, 43);
        border-radius: 12px;
        color: white;
      }

      .sidebar a:hover:not(.active) {
        background-color: #555;
        color: white;
        border-radius: 12px;
      }

      div.content {
        margin-left: 200px;
        padding: 1px 16px;
        height: 1000px;
      }

      ::-webkit-scrollbar {
        width: 10px;
      }

      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }

      ::-webkit-scrollbar-thumb {
        border: 1px solid rgb(173, 0, 43);
        background: #888;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: #555;
      }

      @media screen and (max-width: 700px) {
        .sidebar {
          width: 100%;
          height: auto;
          position: relative;
        }
        .sidebar a {float: left;}
        div.content {margin-left: 0;}
      }

      @media screen and (max-width: 400px) {
        .sidebar a {
          text-align: center;
          float: none;
        }
      }
    </style>
    <script>
      function myFunction() {
        var x = document.getElementById("myTopnav");
        if (x.className === "topnav") {
          x.className += " responsive";
        } else {
          x.className = "topnav";
        }
      }
    </script>
  </body>
</html>